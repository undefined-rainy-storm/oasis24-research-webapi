{"version":3,"file":"GeoLocationController.js","sourceRoot":"","sources":["../src/GeoLocationController.ts"],"names":[],"mappings":";AAAA,MAAM,qBAAqB;IAGzB;QAEA,yBAAoB,GAAG,CAAC,GAAwB,EAAE,EAAE;YAClD,MAAM,wBAAwB,GAAG,IAAI,WAAW,CAAC,qBAAqB,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC,CAAA;YACxF,QAAQ,CAAC,aAAa,CAAC,wBAAwB,CAAC,CAAA;QAClD,CAAC,CAAA;QAED,sBAAiB,GAAG,CAAC,GAA6B,EAAE,EAAE;QAEtD,CAAC,CAAA;QAED,eAAU,GAAG,GAAG,EAAE;YAChB,IAAI,IAAI,CAAC,aAAa;gBAAE,OAAM;YAC9B,IAAI,CAAC,aAAa,GAAG,SAAS,CAAC,WAAW,CAAC,aAAa,CAAC,IAAI,CAAC,oBAAoB,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAA;QAC7G,CAAC,CAAA;QAED,cAAS,GAAG,GAAG,EAAE;YACf,IAAI,IAAI,CAAC,aAAa,IAAI,SAAS;gBAAE,OAAM;YAC3C,SAAS,CAAC,WAAW,CAAC,UAAU,CAAC,IAAI,CAAC,aAAa,CAAC,CAAA;YACpD,IAAI,CAAC,aAAa,GAAG,SAAS,CAAA;QAChC,CAAC,CAAA;QAED,gBAAW,GAAG,GAAY,EAAE;YAC1B,OAAO,aAAa,IAAI,SAAS,CAAA;QACnC,CAAC,CAAA;IAxBc,CAAC;CAyBjB","sourcesContent":["class GeoLocationController {\n  watchTracerId: number | undefined\n\n  constructor() {}\n\n  _watchSuccessHandler = (pos: GeolocationPosition) => {\n    const onGeoLocationUpdateEvent = new CustomEvent('onGeoLocationUpdate', { detail: pos })\n    document.dispatchEvent(onGeoLocationUpdateEvent)\n  }\n\n  _watchFailHandler = (err: GeolocationPositionError) => {\n\n  }\n\n  startTrace = () => {\n    if (this.watchTracerId) return\n    this.watchTracerId = navigator.geolocation.watchPosition(this._watchSuccessHandler, this._watchFailHandler)\n  }\n\n  stopTrace = () => {\n    if (this.watchTracerId == undefined) return\n    navigator.geolocation.clearWatch(this.watchTracerId)\n    this.watchTracerId = undefined\n  }\n\n  isAvailable = (): boolean => {\n    return 'geolocation' in navigator\n  }\n}\n"]}